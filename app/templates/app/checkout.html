{% extends "base.html" %} {% load static %} {% block content %}

<section class="w-full main-container">
  <form
    class="w-full grid-two-container"
    action="{% url 'checkout' %}"
    method="POST"
  >
    {% csrf_token %}
    <div class="py-12">
      <div>
        <h3>Contact information</h3>
        <div class="flex-col mt-12">
          <label for="email">E-mail</label>
          <input
            type="email"
            name="email"
            id="email"
            class="form-input"
            placeholder="Enter your email"
            required
          />
        </div>
        <div class="flex-col mt-12">
          <label for="phone">Phone</label>
          <input
            type="text"
            name="phone"
            id="phone"
            class="form-input"
            placeholder="Enter your phone"
            required
          />
        </div>
      </div>

      <div class="mt-12">
        <h3>Shipping address</h3>
        <div class="flex-col mt-12">
          <label for="full_name">Full name</label>
          <input
            type="text"
            name="full_name"
            id="full_name"
            class="form-input"
            placeholder="Enter your name"
            required
          />
        </div>
        <div class="flex-col mt-12">
          <label for="address">Address</label>
          <input
            type="text"
            name="address"
            id="address"
            class="form-input"
            placeholder="Your address..."
            required
          />
        </div>
        <div class="flex-col mt-12">
          <label for="city">City</label>
          <input
            type="text"
            name="city"
            id="city"
            class="form-input"
            placeholder="Your city..."
            required
          />
        </div>

        <div class="responsive-flex gap-20">
          <div class="flex-col mt-12 w-full">
            <label for="country">Country</label>
            <input
              type="text"
              name="country"
              id="country"
              class="form-input"
              placeholder="Your country..."
              required
            />
          </div>
          <div class="flex-col mt-12">
            <label for="postal_code">Postal code</label>
            <input
              type="number"
              name="postal_code"
              id="postal_code"
              class="form-input"
              placeholder="Your postal code..."
              required
            />
          </div>
        </div>
      </div>
    </div>
    <div class="">
      <div class="cart-checkout">
        <h3 class="order-summary">Order summary</h3>

        <div class="flex-col py-12">
          {% for cart in carts %}
          <div class="flex gap-20">
            <img
              src="{{ cart.product.image.url }}"
              alt="{{ cart.product.name }}"
              class="cart-img"
            />
            <div class="flex-col gap-8">
              <p class="checkout-product-name">{{cart.product.name}}</p>
              <p>
                <span>{{cart.quantity}}</span> x $<span
                  class="primary-color checkout-product-price"
                  >{{cart.product.price}}</span
                >
              </p>
            </div>
          </div>
          {% endfor %}
        </div>

        <hr />

        <div class="flex-col">
          <div class="flex-items-center space-between py-12">
            <p>Subtotal</p>
            <p>$<span id="sub_total">{{products_amount}}</span></p>
          </div>

          <div class="flex-items-center space-between py-12">
            <p>Shipping Fee</p>
            <p>$<span id="shipping_fee">{{shipping_fee}}</span></p>
          </div>

          <hr />

          <div class="flex-items-center space-between py-12">
            <p>Total Amount</p>
            <p class="font-bold primary-color">
              $<span id="total_amount">{{total_amount}}</span>
            </p>
          </div>
        </div>
      </div>
      <div class="mt-12">
        <button type="submit" class="default-btn mt-12">Order</button>
      </div>
    </div>
  </form>
</section>

{% endblock content %}
